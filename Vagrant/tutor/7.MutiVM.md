## Multiple Virtual Machines

```
$ cd vagrant/ 
$ cd scripts/ 
$ ls 
$ mate centos-lamp.sh 
$ mate centos-common.sh 
#!/bin/bash
yum update -y --exclude=kernel
yum install -y nano git unzip screen nc telnet
$ mate centos-lamp.sh
#!/bin/bash
yum update -y --exclude=kernel
yum install -y nano git unzip screen
yum install -y httpd httpd-devel httpd-tools
chkconfig --add httpd
chkconfig httpd on 
service httpd stop
rm -rf /var/www/html
ln -s /vagrant /var/www/html
service httpd start
 yum install -y php php-cli php-common php-devel php-mysql 
 yum install -y mysql mysql-server mysql-devel 
 chkconfig --add mysqld 
 chkconfig mysqld on 
 service mysqld start 
 mysql -u root -e "SHOW DATABASES"; 
 service httpd restart
$ cd ..
$ mkdir
 mate centos-web.sh mate centos-database.sh ls cd .. git add . git status git commit -m "Adding files for multi-vm setup" git push origin master clear cd projects/ git init multi-vms cd multi-vms/ cp ../shell-lamp/Vagrantfile . ls mate Vagrantfile # configure scripts for multi-vm setup git status git add . git commit -m "initial commit" clear vagrant up web vagrant status vagrant up db vagrant status vagrant status web clear vagrant halt db vagrant halt web vagrant status vagrant up # brings up both clear vagrant ssh web ifconfig | grep inet ssh 192.168.10.3 ifconfig | grep inet exit clear nc -z -w1 192.168.10.3 3306 exit vagrant halt cd
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTc3MjAzOTE1M119
-->